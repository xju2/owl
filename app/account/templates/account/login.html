{% extends "bbase.html" %}

{% block title %}Sign In{% endblock %}

{% block exjs %}
<script>
	function validate() {
		var email = $("#email").val();
		if (email == null || email == '') {
			alert("电子邮件不能为空!");
			$('#email').focus();
			return false;
		}
		var re = /^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/
		if (!re.test(email)) {
			alert("请正确填写电子邮件!");
			$('#email').focus();
			return false;
		}
	}
</script>
{% endblock %}

{% block content %}
    <div class="container">
        <h1>
            <a href="/">
                <i class="icon-arrow-left-3 fg-darker smaller"></i>
            </a>
            返回</h1>
        <div class="grid no-margin">
			<div class="row">
			<div class="span6">
				<div class="panel">
					<div class="panel-header bg-lightBlue fg-white">
						使用电子邮件登录
					</div>
					<div class="panel-content">
						<form action="{% url 'login' %}" method="POST" onsubmit="return validate();">
							{% csrf_token %}
							<fieldset>
							<label>电子邮件</label>
							<div class="input-control text" data-role="input-control">
							<input type="text" id="email" name="email" placeholder="请输入电子邮件">
							</div>
							<label>密码</label>
							<div class="input-control password" data-role="input-control">
							<input type="password" name="passwd" placeholder="请输入密码">
							<button class="btn-reveal" tabindex="-1"></button>
							</div>
							<input type="submit" value="登录">
							</fieldset>
						</form>
					</div>
				</div>
			</div>
			</div>
        </div>
    </div>

{% endblock %}
